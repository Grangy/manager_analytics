# Исправление кодировки на сервере

## Проблема

`fixCyrillicCell` портил корректные UTF-8 данные из Excel. Кириллица отображалась как "2K?>;=5=8N".

## Решение

### 1. На сервере (SSH)

```bash
ssh root@77.222.47.184
cd /var/www/manager_analytics
git pull
npm install
```

### 2. Переимпорт из архивов (рекомендуется)

Скрипт читает Excel из `upload/archive/` и перезаписывает заказы с корректными данными:

```bash
npm run reimport-archive
```

### 3. Альтернатива: fix-encoding

Если архивов нет, попробовать автокоррекцию строк в БД:

```bash
npm run fix-encoding -- --dry-run   # посмотреть, что изменится
npm run fix-encoding               # применить
```

### 4. Далее

Новые импорты (cron 21:00) теперь работают с сырыми данными — кодировка не искажается.
